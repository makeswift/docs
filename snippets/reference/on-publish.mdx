<CodeGroup>

```ts src/app/api/makeswift/[...makeswift]/route.ts
import { MakeswiftApiHandler } from "@makeswift/runtime/next/server";
import { strict } from "assert";

import { runtime } from "@/makeswift/runtime";

strict(
  process.env.MAKESWIFT_SITE_API_KEY,
  "MAKESWIFT_SITE_API_KEY is required"
);

const handler = MakeswiftApiHandler(process.env.MAKESWIFT_SITE_API_KEY, {
  runtime,
  events: {
    onPublish() {
      console.log(`Published content`);
    },
  },
});

export { handler as GET, handler as POST, handler as OPTIONS };
```

</CodeGroup>
